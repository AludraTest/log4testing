<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-08-17 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160817" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Log4Testing &#x2013; Test Log Writers & Filters</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Log4Testing</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2016-08-17
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.0.1
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">User Documentation</li>
                                                                                                                                                                  
      <li>
  
                          <a href="configuration.html" title="Configuration">
          <span class="icon-chevron-down"></span>
        Configuration</a>
                    <ul class="nav nav-list">
                                                                                                                          
      <li class="active">
  
            <a href="#"><span class="icon-chevron-down"></span>Log Writers and Filters</a>
                  <ul class="nav nav-list">
                    
      <li>
  
                          <a href="htmlwriter.html" title="HTML Writer">
          <span class="none"></span>
        HTML Writer</a>
            </li>
                    
      <li>
  
                          <a href="xmlwriter.html" title="XML Writer">
          <span class="none"></span>
        XML Writer</a>
            </li>
                    
      <li>
  
                          <a href="regexpfilter.html" title="RegExp Test Step Filter">
          <span class="none"></span>
        RegExp Test Step Filter</a>
            </li>
                    
      <li>
  
                          <a href="nostepsfilter.html" title="NoSteps Test Step Filter">
          <span class="none"></span>
        NoSteps Test Step Filter</a>
            </li>
              </ul>
        </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="usage.html" title="Usage">
          <span class="none"></span>
        Usage</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2><a name="Test_Log_Writers__Filters"></a>Test Log Writers &amp; Filters</h2>
<p>Test logs are generated by <i>Writers</i>. A writer can write any arbitrary format, even e.g. write into a database. All configured writers must be listed within the <tt>&lt;writers&gt;</tt> element in the <tt>log4testing.xml</tt>.</p>
<p>This example configures a writer which creates an HTML test log with default settings (default output folder for this Writer is <tt>target/log4testing</tt>):</p>
<div class="source"><pre class="prettyprint">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration xmlns=&quot;http://aludratest.org/log4testing/1.0&quot;&gt;
  &lt;writers&gt;
    &lt;writer&gt;
      &lt;class&gt;org.aludratest.log4testing.html.HtmlTestLogWriter&lt;/class&gt;
    &lt;/writer&gt;
  &lt;/writers&gt;
&lt;/configuration&gt;
</pre></div>
<p>Of course, you could easily write your own writer class, which only must implement the interface <a href="./xref/org/aludratest/log4testing/output/TestLogWriter.html">org.aludratest.log4testing.output.TestLogWriter</a>. But the default writers should fit most use cases, especially as there also is an XML writer, whose output could easily transformed / processed via XSLT and other XML tools.</p>
<div class="section">
<h3><a name="Writer_Configuration"></a>Writer Configuration</h3>
<p>Every writer has its own set of supported <i>properties</i> to configure the writer to your needs. Refer to the writer specific documentation to get a list of available properties for the selected writer.</p>
<p>To configure the writer, add a <tt>&lt;properties&gt;</tt> section to your writer configuration:</p>
<div class="source"><pre class="prettyprint">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration xmlns=&quot;http://aludratest.org/log4testing/1.0&quot;&gt;
  &lt;writers&gt;
    &lt;writer&gt;
      &lt;class&gt;org.aludratest.log4testing.html.HtmlTestLogWriter&lt;/class&gt;
      
      &lt;properties&gt;
        &lt;property&gt;
          &lt;key&gt;outputFolder&lt;/key&gt;
          &lt;value&gt;target/testlog/html&lt;/value&gt;
        &lt;/property&gt;
      &lt;/properties&gt;
      
    &lt;/writer&gt;
  &lt;/writers&gt;
&lt;/configuration&gt;
</pre></div>
<p>Of course, you could make use of the <a href="./configuration.html">Global Properties</a> in your <tt>log4testing.xml</tt> to avoid redundancy when configuring multiple writers:</p>
<div class="source"><pre class="prettyprint">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration xmlns=&quot;http://aludratest.org/log4testing/1.0&quot;&gt;
  &lt;properties&gt;
    &lt;property&gt;
      &lt;key&gt;baseLogOutputDir&lt;/key&gt;
      &lt;value&gt;target/testlog&lt;/value&gt;
    &lt;/property&gt;
  &lt;/properties&gt;
  
  &lt;writers&gt;
    &lt;writer&gt;
      &lt;class&gt;org.aludratest.log4testing.html.HtmlTestLogWriter&lt;/class&gt;
      
      &lt;properties&gt;
        &lt;property&gt;
          &lt;key&gt;outputFolder&lt;/key&gt;
          &lt;value&gt;${baseLogOutputDir}/html&lt;/value&gt;
        &lt;/property&gt;
      &lt;/properties&gt;
    &lt;/writer&gt;
    
    &lt;writer&gt;
      &lt;class&gt;org.aludratest.log4testing.xml.XmlTestLogWriter&lt;/class&gt;
      
      &lt;properties&gt;
        &lt;property&gt;
          &lt;key&gt;outputFolder&lt;/key&gt;
          &lt;value&gt;${baseLogOutputDir}/xml&lt;/value&gt;
        &lt;/property&gt;
      &lt;/properties&gt;
    &lt;/writer&gt;
  &lt;/writers&gt;
&lt;/configuration&gt;
</pre></div></div>
<div class="section">
<h3><a name="Step_Filtering"></a>Step Filtering</h3>
<p>Depending on your writer, you may want to not include <b>all</b> test steps in your log - maybe no test steps at all (e.g. if you only need a rudimentary XML output for high-level statistics). The most common case is to exclude <i>Check methods</i> from the log, as they can easily pollute the log, depending on your test setup.</p>
<p>To each writer, you can add one or more <i>Step Filters</i>. Only steps which are accepted by <b>all</b> attached filters are passed to the writer for logging. Here is the basic example excluding all check methods from being logged in the HTML writer (assuming that these methods start with <tt>is</tt> or <tt>has</tt>):</p>
<div class="source"><pre class="prettyprint">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration xmlns=&quot;http://aludratest.org/log4testing/1.0&quot;&gt;
  &lt;writers&gt;
    &lt;writer&gt;
      &lt;class&gt;org.aludratest.log4testing.html.HtmlTestLogWriter&lt;/class&gt;
      
      &lt;testStepFilters&gt;
        &lt;testStepFilter&gt;
          &lt;class&gt;org.aludratest.log4testing.filter.RegExpCommandFilter&lt;/class&gt;
          &lt;properties&gt;
            &lt;property&gt;
              &lt;key&gt;commandRegexp&lt;/key&gt;
              &lt;value&gt;^(?!(is|has)).*&lt;/value&gt;
            &lt;/property&gt;
          &lt;/properties&gt;
        &lt;/testStepFilter&gt;
      &lt;/testStepFilters&gt;      
    &lt;/writer&gt;
  &lt;/writers&gt;
&lt;/configuration&gt;
</pre></div>
<p>As you can see, filters are configured the same way writers are - using properties. See the documentation of the selected filter implementation for available configuration properties.</p>
<p>The filter implementation for excluding <b>all</b> test step details from being written to the log is <tt>org.aludratest.log4testing.filter.NoTestStepsFilter</tt>. This is how it is used, together with an XML writer:</p>
<div class="source"><pre class="prettyprint">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration xmlns=&quot;http://aludratest.org/log4testing/1.0&quot;&gt;
  &lt;writers&gt;
    &lt;writer&gt;
      &lt;class&gt;org.aludratest.log4testing.xml.XmlTestLogWriter&lt;/class&gt;
      
      &lt;testStepFilters&gt;
        &lt;testStepFilter&gt;
          &lt;class&gt;org.aludratest.log4testing.filter.NoTestStepsFilter&lt;/class&gt;
        &lt;/testStepFilter&gt;
      &lt;/testStepFilters&gt;      
    &lt;/writer&gt;
  &lt;/writers&gt;
&lt;/configuration&gt;
</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2016
                        <a href="http://www.aludratest.org/">aludratest.org</a>.
            All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
